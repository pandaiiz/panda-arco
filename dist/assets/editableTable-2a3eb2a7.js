import{d as x,o as f,r as v,j as c,m as i,h as g,n as p,B as S}from"./index-f50a7ad4.js";import"./index-f26404de.js";/* empty css              */import{S as u}from"./index-4a89bbe3.js";import{T as R}from"./index-13195c7d.js";import"./index-6dc1a68d.js";import{d as b}from"./service-76aca5fa.js";import"./select-view-c7889b9d.js";import"./index-679f783d.js";const A=({detailData:l,setDetailData:a,setSelectedRow:y})=>{const{data:d}=x(()=>f("CATEGORY")),h=[{title:"品名",dataIndex:"categoryId",align:"center",render:(r,n,o)=>c(u,{placeholder:"请选择品名",allowClear:!0,value:n.categoryId,onChange:e=>{const t=i.cloneDeep(l),s=d.find(I=>I.id===e);t[o].categoryId=e,t[o].categoryTitle=s.title,t[o].categoryKey=s.key,a(t)},children:d==null?void 0:d.map(e=>c(u.Option,{value:e.id,children:e.title},e.id))})},{title:"款号",dataIndex:"styleCode",align:"center",render:(r,n,o)=>c(g,{value:n.styleCode,onChange:e=>{const t=i.cloneDeep(l);t[o].styleCode=e,a(t)}})},{title:"圈号",dataIndex:"circle",align:"center",render:(r,n,o)=>c(g,{value:n.circle,onChange:e=>{const t=i.cloneDeep(l);t[o].circle=e,a(t)}})},{title:"件重",dataIndex:"singleWeight",align:"center",render:(r,n,o)=>c(p,{value:n.singleWeight,onChange:e=>{const t=i.cloneDeep(l);t[o].singleWeight=e,a(t)}})},{title:"数量",dataIndex:"quantity",align:"center",render:(r,n,o)=>c(p,{value:n.quantity,onChange:e=>{const t=i.cloneDeep(l);t[o].quantity=e,a(t)}})},{title:"生产状态",dataIndex:"productionStatus",align:"center"},{title:"操作",align:"center",render:(r,n,o)=>c(S,{type:"text",onClick:()=>m(n.id,o),children:"删除"})}],m=async(r,n)=>{r&&await b(r),a(l.filter((o,e)=>e!==n))},[w,C]=v.useState([]);return c(R,{columns:h,data:l,pagination:!1,rowKey:"id",rowSelection:{type:"checkbox",selectedRowKeys:w,onChange:(r,n)=>{C(r),y(n)}}})};export{A as default};
