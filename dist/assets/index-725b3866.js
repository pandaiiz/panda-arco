import{r as s,d as b,a as d,j as t,S as _,B as f,f as h}from"./index-2fe9f87b.js";import{C as w}from"./index-ed740d17.js";import"./index-051f16ed.js";/* empty css              */import"./index-99f088e0.js";import{T as g}from"./index-18b86337.js";import"./index-a8984739.js";import{getColumns as y}from"./constants-7a036822.js";import C from"./edit-1658daf1.js";import{c as x,e as M}from"./service-7e24a65c.js";import"./select-view-e3752154.js";import"./index-26e1abb8.js";import"./index-6e90a512.js";import"./index-e5c443e4.js";import"./common-26ce2b19.js";import"./index-6b64cf7e.js";import"./scrollIntoView-eed899c1.js";const k="_toolbar_pbsw0_1",S="_operations_pbsw0_6",j={toolbar:k,operations:S,"content-type":"_content-type_pbsw0_9","search-form-wrapper":"_search-form-wrapper_pbsw0_16","right-button":"_right-button_pbsw0_21","button-group":"_button-group_pbsw0_30","search-form":"_search-form_pbsw0_16"};function O(){const[i,e]=s.useState(!1),{data:o,loading:p,refresh:a}=b(x),[l,r]=s.useState({}),c=async(n,u)=>{switch(u){case"delete":await M(n.id),a();break;case"detail":r(n),e(!0);break}},m=s.useMemo(()=>y(c),[]);return d(w,{children:[i&&t(C,{data:l,onClose:async()=>{e(!1),a()}}),t("div",{className:j["button-group"],children:t(_,{children:t(f,{type:"primary",icon:t(h,{}),onClick:()=>{r({}),e(!0)},children:"新建"})})}),(o==null?void 0:o.length)>0&&t(g,{rowKey:"id",pagination:!1,loading:p,columns:m,data:o,defaultExpandAllRows:!0})]})}export{O as default};
