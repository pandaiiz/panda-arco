import{R as P,r as u,I as K,a as L,j as c,_ as X,a4 as wr,c as H,an as rt,s as tt,ap as nt,C as Or,ar as at,aq as ot,u as it,q as _e,V as st,W as lt,P as ct,aC as Ce,aD as xe,aA as ut,$ as ft,J as vt,a0 as or,ab as pt,aI as dt,b as gt,as as Cr,a2 as mt,U as ht,Y as bt}from"./index-2fe9f87b.js";function ir(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function sr(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ir(Object(t),!0).forEach(function(r){X(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ir(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function yt(e,n){var t=u.useContext(K),r=t.prefixCls,a=r===void 0?"arco":r,l=e.spin,o=e.className,i=sr(sr({"aria-hidden":!0,focusable:!1,ref:n},e),{},{className:"".concat(o?o+" ":"").concat(a,"-icon ").concat(a,"-icon-image-close")});return l&&(i.className="".concat(i.className," ").concat(a,"-icon-loading")),delete i.spin,delete i.isIcon,L("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...i,children:[c("path",{d:"M41 26V9a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v30a2 2 0 0 0 2 2h17"}),c("path",{d:"m24 33 9-8.5V27s-2 1-3.5 2.5C27.841 31.159 27 33 27 33h-3Zm0 0-3.5-4.5L17 33h7Z"}),c("path",{fill:"currentColor",stroke:"none",d:"M20.5 28.5 17 33h7l-3.5-4.5ZM33 24.5 24 33h3s.841-1.841 2.5-3.5C31 28 33 27 33 27v-2.5Z"}),c("path",{fill:"currentColor",fillRule:"evenodd",stroke:"none",d:"M46 38a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-4.95-4.782 1.74 1.74-3.045 3.046 3.046 3.046-1.74 1.74-3.047-3.045-3.046 3.046-1.74-1.74 3.046-3.047-3.046-3.046 1.74-1.74 3.046 3.046 3.046-3.046Z",clipRule:"evenodd"}),c("path",{d:"M17 15h-2v2h2v-2Z"})]})}var Me=P.forwardRef(yt);Me.defaultProps={isIcon:!0};Me.displayName="IconImageClose";const Kt=Me;function lr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function cr(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?lr(Object(t),!0).forEach(function(r){X(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):lr(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function wt(e,n){var t=u.useContext(K),r=t.prefixCls,a=r===void 0?"arco":r,l=e.spin,o=e.className,i=cr(cr({"aria-hidden":!0,focusable:!1,ref:n},e),{},{className:"".concat(o?o+" ":"").concat(a,"-icon ").concat(a,"-icon-zoom-out")});return l&&(i.className="".concat(i.className," ").concat(a,"-icon-loading")),delete i.spin,delete i.isIcon,c("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...i,children:c("path",{d:"M32.607 32.607A14.953 14.953 0 0 0 37 22c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15 4.142 0 7.892-1.679 10.607-4.393Zm0 0L41.5 41.5M29 22H15"})})}var ke=P.forwardRef(wt);ke.defaultProps={isIcon:!0};ke.displayName="IconZoomOut";const Ot=ke;function ur(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function fr(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?ur(Object(t),!0).forEach(function(r){X(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ur(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Ct(e,n){var t=u.useContext(K),r=t.prefixCls,a=r===void 0?"arco":r,l=e.spin,o=e.className,i=fr(fr({"aria-hidden":!0,focusable:!1,ref:n},e),{},{className:"".concat(o?o+" ":"").concat(a,"-icon ").concat(a,"-icon-zoom-in")});return l&&(i.className="".concat(i.className," ").concat(a,"-icon-loading")),delete i.spin,delete i.isIcon,c("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...i,children:c("path",{d:"M32.607 32.607A14.953 14.953 0 0 0 37 22c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15 4.142 0 7.892-1.679 10.607-4.393Zm0 0L41.5 41.5M29 22H15m7 7V15"})})}var Ee=P.forwardRef(Ct);Ee.defaultProps={isIcon:!0};Ee.displayName="IconZoomIn";const xt=Ee;function vr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function pr(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?vr(Object(t),!0).forEach(function(r){X(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vr(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Pt(e,n){var t=u.useContext(K),r=t.prefixCls,a=r===void 0?"arco":r,l=e.spin,o=e.className,i=pr(pr({"aria-hidden":!0,focusable:!1,ref:n},e),{},{className:"".concat(o?o+" ":"").concat(a,"-icon ").concat(a,"-icon-fullscreen")});return l&&(i.className="".concat(i.className," ").concat(a,"-icon-loading")),delete i.spin,delete i.isIcon,c("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...i,children:c("path",{d:"M42 17V9a1 1 0 0 0-1-1h-8M6 17V9a1 1 0 0 1 1-1h8m27 23v8a1 1 0 0 1-1 1h-8M6 31v8a1 1 0 0 0 1 1h8"})})}var Le=P.forwardRef(Pt);Le.defaultProps={isIcon:!0};Le.displayName="IconFullscreen";const It=Le;function dr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function gr(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?dr(Object(t),!0).forEach(function(r){X(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dr(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function St(e,n){var t=u.useContext(K),r=t.prefixCls,a=r===void 0?"arco":r,l=e.spin,o=e.className,i=gr(gr({"aria-hidden":!0,focusable:!1,ref:n},e),{},{className:"".concat(o?o+" ":"").concat(a,"-icon ").concat(a,"-icon-rotate-left")});return l&&(i.className="".concat(i.className," ").concat(a,"-icon-loading")),delete i.spin,delete i.isIcon,c("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...i,children:c("path",{d:"M10 22a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H11a1 1 0 0 1-1-1V22ZM23 11h11a6 6 0 0 1 6 6v6M22.5 12.893 19.587 11 22.5 9.107v3.786Z"})})}var Te=P.forwardRef(St);Te.defaultProps={isIcon:!0};Te.displayName="IconRotateLeft";const _t=Te;function mr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function hr(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?mr(Object(t),!0).forEach(function(r){X(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):mr(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function jt(e,n){var t=u.useContext(K),r=t.prefixCls,a=r===void 0?"arco":r,l=e.spin,o=e.className,i=hr(hr({"aria-hidden":!0,focusable:!1,ref:n},e),{},{className:"".concat(o?o+" ":"").concat(a,"-icon ").concat(a,"-icon-rotate-right")});return l&&(i.className="".concat(i.className," ").concat(a,"-icon-loading")),delete i.spin,delete i.isIcon,c("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...i,children:c("path",{d:"M38 22a1 1 0 0 0-1-1H17a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1V22ZM25 11H14a6 6 0 0 0-6 6v6M25.5 12.893 28.413 11 25.5 9.107v3.786Z"})})}var De=P.forwardRef(jt);De.defaultProps={isIcon:!0};De.displayName="IconRotateRight";const Nt=De;function br(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,r)}return t}function yr(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?br(Object(t),!0).forEach(function(r){X(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):br(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Mt(e,n){var t=u.useContext(K),r=t.prefixCls,a=r===void 0?"arco":r,l=e.spin,o=e.className,i=yr(yr({"aria-hidden":!0,focusable:!1,ref:n},e),{},{className:"".concat(o?o+" ":"").concat(a,"-icon ").concat(a,"-icon-original-size")});return l&&(i.className="".concat(i.className," ").concat(a,"-icon-loading")),delete i.spin,delete i.isIcon,L("svg",{fill:"none",stroke:"currentColor",strokeWidth:"4",viewBox:"0 0 48 48",...i,children:[c("path",{d:"m5.5 11.5 5-2.5h1v32M34 11.5 39 9h1v32"}),c("path",{fill:"currentColor",stroke:"none",d:"M24 17h1v1h-1v-1ZM24 30h1v1h-1v-1Z"}),c("path",{d:"M24 17h1v1h-1v-1ZM24 30h1v1h-1v-1Z"})]})}var Re=P.forwardRef(Mt);Re.defaultProps={isIcon:!0};Re.displayName="IconOriginalSize";const kt=Re;var Et=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),a,l=[],o;try{for(;(n===void 0||n-- >0)&&!(a=r.next()).done;)l.push(a.value)}catch(i){o={error:i}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return l};function Lt(e){var n=Et(u.useState(e),2),t=n[0],r=n[1],a=t==="beforeLoad",l=t==="loading",o=t==="error",i=t==="loaded",I=t==="lazyload";return{status:t,isBeforeLoad:a,isLoading:l,isError:o,isLoaded:i,isLazyLoad:I,setStatus:r}}var xr=[25,33,50,67,75,80,90,100,110,125,150,175,200,250,300,400,500],Tt=function(){function e(n){this.updateScale(n)}return Object.defineProperty(e.prototype,"scales",{get:function(){return this.scaleAttr},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minScale",{get:function(){return this.scaleAttr[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxScale",{get:function(){return this.scaleAttr[this.scaleAttr.length-1]},enumerable:!1,configurable:!0}),e.prototype.updateScale=function(n){var t=xr;if(wr(n)&&n.filter(function(o){return o>0}).length&&(t=n.filter(function(o){return o>0})),t=t.map(function(o){return+(o/100).toFixed(2)}),!t.includes(1)){var r=this.findClosestIndex(1,t),a=t[r],l=a<1?r+1:r;t.splice(l,0,1)}this.scaleAttr=t},e.prototype.findClosestIndex=function(n,t){if(t===void 0&&(t=this.scaleAttr),!!t.length){if(t.length===1)return 0;for(var r=t.length-1,a=0;a<t.length;a++){var l=t[a];if(n===l){r=a;break}if(n<l){var o=t[a-1];r=o===void 0||Math.abs(o-n)<=Math.abs(l-n)?a-1:a;break}}return r}},e.prototype.getNextScale=function(n,t){t===void 0&&(t="zoomIn");var r=this.scaleAttr.indexOf(n);return r===-1&&(r=this.findClosestIndex(n)),t==="zoomIn"?r===this.scaleAttr.length-1?n:this.scaleAttr[r+1]:r===0?n:this.scaleAttr[r-1]},e}();const Dt=Tt;function Rt(e,n,t,r,a){var l=t,o=r;return t&&(e.width>n.width?l=0:(n.left>e.left&&(l-=Math.abs(e.left-n.left)/a),n.right<e.right&&(l+=Math.abs(e.right-n.right)/a))),r&&(e.height>n.height?o=0:(n.top>e.top&&(o-=Math.abs(e.top-n.top)/a),n.bottom<e.bottom&&(o+=Math.abs(e.bottom-n.bottom)/a))),[l,o]}var $t=function(e){var n=e.style,t=e.className,r=e.prefixCls,a=e.popup,l=e.children,o=H(r+"-trigger",t);return P.createElement(rt,{style:n,className:o,popup:a,showArrow:!0},l)},je=globalThis&&globalThis.__assign||function(){return je=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},je.apply(this,arguments)},At=globalThis&&globalThis.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]]);return t},Pe=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),a,l=[],o;try{for(;(n===void 0||n-- >0)&&!(a=r.next()).done;)l.push(a.value)}catch(i){o={error:i}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return l},Ie=globalThis&&globalThis.__spreadArray||function(e,n,t){if(t||arguments.length===2)for(var r=0,a=n.length,l;r<a;r++)(l||!(r in n))&&(l||(l=Array.prototype.slice.call(n,0,r)),l[r]=n[r]);return e.concat(l||Array.prototype.slice.call(n))},Vt=function(e,n){var t,r=e.prefixCls,a=e.previewPrefixCls,l=e.simple,o=l===void 0?!1:l,i=e.actions,I=i===void 0?[]:i,T=e.actionsLayout,y=T===void 0?[]:T,V=e.defaultActions,v=V===void 0?[]:V,C=new Set(y),j=function(p){return C.has(p.key)},D=Ie(Ie([],Pe(v.filter(j)),!1),Pe(I.filter(j)),!1),ae=I.filter(function(p){return!C.has(p.key)}),R=D.sort(function(p,O){var S=y.indexOf(p.key),N=y.indexOf(O.key);return S>N?1:-1});if(C.has("extra")){var q=y.indexOf("extra");R.splice.apply(R,Ie([q,0],Pe(ae),!1))}var J=function(p,O){var S;O===void 0&&(O=!1);var N=p.content,z=p.disabled,Q=p.key,_=p.name,Y=p.getContainer,ee=p.onClick,M=At(p,["content","disabled","key","name","getContainer","onClick"]),Z=L("div",{...je({className:H(a+"-toolbar-action",(S={},S[a+"-toolbar-action-disabled"]=z,S)),key:Q,onClick:function(U){!z&&ee&&ee(U)},onMouseDown:function(U){U.preventDefault()}},M),children:[N&&c("span",{className:a+"-toolbar-action-content",children:N}),O&&_&&c("span",{className:a+"-toolbar-action-name",children:_})]});return Y?Y(Z):Z};if(!R.length)return null;var $=R.map(function(p){var O=J(p,o);return!o&&p.name&&!p.getContainer?c(tt,{content:p.name,children:O},p.key):O});return L("div",{ref:n,className:H(a+"-toolbar",(t={},t[a+"-toolbar-simple"]=o,t),e.className),style:e.style,children:[o&&c($t,{prefixCls:r,className:a+"-trigger",popup:function(){return c("div",{children:$})},children:J({key:"trigger",content:c("span",{children:c(nt,{})})})}),!o&&$]})};const zt=u.forwardRef(Vt);var Pr=u.createContext({previewGroup:!1,previewUrlMap:new Map,previewPropsMap:new Map,infinite:!0,currentIndex:0,setCurrentIndex:function(){return null},setPreviewUrlMap:function(){return null},registerPreviewUrl:function(){return null},registerPreviewProps:function(){return null},visible:!1,handleVisibleChange:function(){return null}});function Zt(e){var n,t,r=e.current,a=e.previewCount,l=e.infinite,o=l===void 0?!1:l,i=e.onPrev,I=e.onNext,T=u.useContext(Or).getPrefixCls,y=T("image-preview"),V=H(y+"-arrow"),v=!o&&r<=0,C=!o&&r>=a-1;return L("div",{className:V,children:[c("div",{className:H(y+"-arrow-left",(n={},n[y+"-arrow-disabled"]=v,n)),onClick:function(j){j.preventDefault(),!v&&i&&i()},children:c(at,{})}),c("div",{className:H(y+"-arrow-right",(t={},t[y+"-arrow-disabled"]=C,t)),onClick:function(j){j.preventDefault(),!C&&I&&I()},children:c(ot,{})})]})}var F=globalThis&&globalThis.__assign||function(){return F=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},F.apply(this,arguments)},Ut=globalThis&&globalThis.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]]);return t},E=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),a,l=[],o;try{for(;(n===void 0||n-- >0)&&!(a=r.next()).done;)l.push(a.value)}catch(i){o={error:i}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return l},Se=90,Wt={maskClosable:!0,closable:!0,breakPoint:316,actionsLayout:["fullScreen","rotateRight","rotateLeft","zoomIn","zoomOut","originalSize","extra"],getPopupContainer:function(){return document.body},escToExit:!0,scales:xr};function Bt(e,n){var t,r,a=u.useContext(Pr),l=a.previewGroup,o=a.previewUrlMap,i=a.currentIndex,I=a.setCurrentIndex,T=a.infinite,y=a.previewPropsMap,V=l?y.get(i):{},v=it(e,Wt,V),C=v.className,j=v.style,D=v.src,ae=v.defaultVisible,R=v.maskClosable,q=v.closable,J=v.breakPoint,$=v.actions,p=v.actionsLayout,O=v.getPopupContainer,S=v.onVisibleChange,N=v.scales,z=v.escToExit,Q=v.imgAttributes,_=Q===void 0?{}:Q,Y=v.extra,ee=Y===void 0?null:Y,M=l?o.get(i):D,Z=E(u.useState(M),2),U=Z[0],ve=Z[1],m=E(_e(!1,{defaultValue:ae,value:v.visible}),2),f=m[0],w=m[1],h=u.useContext(Or),k=h.getPrefixCls,d=h.locale,oe=h.rtl,$e=k("image"),x=$e+"-preview",_r=H(x,(t={},t[x+"-hide"]=!f,t[x+"-rtl"]=oe,t),C),le=u.useRef(),jr=u.useRef(),ie=u.useRef(),pe=u.useRef(!1),se=u.useRef({pageX:0,pageY:0,originX:0,originY:0}),de=Lt("loading"),Nr=de.isLoading,Mr=de.isLoaded,ge=de.setStatus,Ae=E(u.useState(!1),2),kr=Ae[0],Er=Ae[1],Ve=E(u.useState({x:0,y:0}),2),A=Ve[0],me=Ve[1],ze=E(u.useState(1),2),b=ze[0],he=ze[1],Ze=E(u.useState(!1),2),Ue=Ze[0],We=Ze[1],Be=E(u.useState(0),2),ce=Be[0],be=Be[1],Fe=E(u.useState(!1),2),W=Fe[0],He=Fe[1],G=u.useMemo(function(){return new Dt(N)},[]),Ye=_.onLoad,Ge=_.onError,Ke=_.onMouseDown,Lr=_.style,Tr=_.className,Dr=Ut(_,["onLoad","onError","onMouseDown","style","className"]);function ye(){me({x:0,y:0}),he(1),be(0)}u.useImperativeHandle(n,function(){return{reset:ye}});var Xe=E(u.useState(),2),ue=Xe[0],Rr=Xe[1],qe=u.useCallback(function(){return ue},[ue]);u.useEffect(function(){var s=O&&O(),g=st.findDOMNode(s)||document.body;Rr(g)},[O]),lt(qe,{hidden:f});var $r=u.useMemo(function(){return!ct&&ue===document.body},[ue]);function Je(s){var g=o.size;T&&(s%=g,s<0&&(s=g-Math.abs(s))),s!==i&&s>=0&&s<=g-1&&I(s)}function Ar(){Je(i-1)}function Vr(){Je(i+1)}function zr(){be(ce===0?360-Se:ce-Se)}function Zr(){be((ce+Se)%360)}var we=u.useRef(null),Ur=function(){!Ue&&We(!0),we.current&&clearTimeout(we.current),we.current=setTimeout(function(){We(!1)},1e3)},fe=function(s){b!==s&&(he(s),Ur())};function Qe(){var s=G.getNextScale(b,"zoomIn");fe(s)}function er(){var s=G.getNextScale(b,"zoomOut");fe(s)}function Wr(s){s.deltaY>0?b>=G.minScale&&er():b<=G.maxScale&&Qe()}function Br(){fe(1)}function Fr(){var s=ie.current.getBoundingClientRect(),g=le.current.getBoundingClientRect(),B=s.height/(g.height/b),re=s.width/(g.width/b),te=Math.max(B,re);fe(te)}function rr(s){s.target===s.currentTarget&&R&&Oe()}function Hr(){Oe()}function Oe(){f&&(S&&S(!1,f),Cr(v.visible)&&w(!1))}function Yr(s){if(s&&s.length){var g=s[0].contentRect,B=g.width<J;Er(B)}}var tr=function(){if(!(!ie.current||!le.current)){var s=ie.current.getBoundingClientRect(),g=le.current.getBoundingClientRect(),B=E(Rt(s,g,A.x,A.y,b),2),re=B[0],te=B[1];(re!==A.x||te!==A.y)&&me({x:re,y:te})}},nr=function(s){if(f&&W){s.preventDefault&&s.preventDefault();var g=se.current,B=g.originX,re=g.originY,te=g.pageX,Jr=g.pageY,Qr=B+(s.pageX-te)/b,et=re+(s.pageY-Jr)/b;me({x:Qr,y:et})}},ar=function(s){s.preventDefault&&s.preventDefault(),He(!1)};function Gr(s){ge("loaded"),Ye&&Ye(s)}function Kr(s){ge("error"),Ge&&Ge(s)}var Xr=function(s){s.preventDefault&&s.preventDefault(),He(!0);var g=s.type==="touchstart"?s.touches[0]:s;se.current.pageX=g.pageX,se.current.pageY=g.pageY,se.current.originX=A.x,se.current.originY=A.y,Ke&&Ke(s)};u.useEffect(function(){return f&&W&&(Ce(document,"mousemove",nr,!1),Ce(document,"mouseup",ar,!1)),function(){xe(document,"mousemove",nr,!1),xe(document,"mouseup",ar,!1)}},[f,W]),u.useEffect(function(){W||tr()},[W,A]),u.useEffect(function(){tr()},[b]),u.useEffect(function(){f&&ye()},[f]),u.useEffect(function(){ve(M),ge(M?"loading":"loaded"),ye()},[M]),ut(function(){G.updateScale(N),he(1)},[N]),u.useEffect(function(){var s=function(g){z&&g&&g.key===mt.key&&Oe()};return f&&!W&&!pe.current&&(pe.current=!0,Ce(document,"keydown",s)),function(){pe.current=!1,xe(document,"keydown",s)}},[f,z,W]);var qr=[{key:"fullScreen",name:d.ImagePreview.fullScreen,content:c(It,{}),onClick:Fr},{key:"rotateRight",name:d.ImagePreview.rotateRight,content:c(Nt,{}),onClick:Zr},{key:"rotateLeft",name:d.ImagePreview.rotateLeft,content:c(_t,{}),onClick:zr},{key:"zoomIn",name:d.ImagePreview.zoomIn,content:c(xt,{}),onClick:Qe,disabled:b===G.maxScale},{key:"zoomOut",name:d.ImagePreview.zoomOut,content:c(Ot,{}),onClick:er,disabled:b===G.minScale},{key:"originalSize",name:d.ImagePreview.originalSize,content:c(kt,{}),onClick:Br}];return c(ft,{visible:f,forceRender:!1,getContainer:qe,children:c(vt,{...F({},h,{getPopupContainer:function(){return ie.current}}),children:L("div",{className:_r,style:F(F({},j||{}),$r?{}:{zIndex:"inherit",position:"absolute"}),children:[c(or,{in:f,timeout:400,appear:!0,classNames:"fadeImage",mountOnEnter:!0,unmountOnExit:!1,onEnter:function(s){s.parentNode.style.display="block",s.style.display="block"},onExited:function(s){s.parentNode.style.display="",s.style.display="none"},children:c("div",{className:x+"-mask"})}),f&&c(pt,{onResize:Yr,children:L("div",{ref:ie,className:x+"-wrapper",onClick:rr,children:[L("div",{ref:jr,className:x+"-img-container",style:{transform:"scale("+b+", "+b+")"},onClick:rr,children:[c("img",{...F({onWheel:Wr,ref:le,className:H(Tr,x+"-img",(r={},r[x+"-img-moving"]=W,r)),style:F(F({},Lr),{transform:"translate("+A.x+"px, "+A.y+"px) rotate("+ce+"deg)"})},Dr,{onLoad:Gr,onError:Kr,onMouseDown:Xr,key:U,src:U})}),Nr&&c("div",{className:x+"-loading",children:c(dt,{})})]}),c(or,{in:Ue,timeout:400,appear:!0,classNames:"fadeImage",unmountOnExit:!0,children:L("div",{className:x+"-scale-value",children:[(b*100).toFixed(0),"%"]})}),Mr&&c(zt,{prefixCls:$e,previewPrefixCls:x,actions:$,actionsLayout:p,defaultActions:qr,simple:kr}),q&&c("div",{className:x+"-close-btn",onClick:Hr,children:c(gt,{})}),l&&c(Zt,{previewCount:o.size,current:i,infinite:T,onPrev:Ar,onNext:Vr}),ee]})})]})})})}var Ir=u.forwardRef(Bt);Ir.displayName="ImagePreview";const Ft=Ir;var Ne=globalThis&&globalThis.__assign||function(){return Ne=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++){n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Ne.apply(this,arguments)},Ht=globalThis&&globalThis.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]]);return t},ne=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var r=t.call(e),a,l=[],o;try{for(;(n===void 0||n-- >0)&&!(a=r.next()).done;)l.push(a.value)}catch(i){o={error:i}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return l};function Yt(e,n){var t=e.children,r=e.srcList,a=e.infinite,l=e.current,o=e.defaultCurrent,i=e.onChange,I=e.visible,T=e.defaultVisible,y=e.onVisibleChange,V=Ht(e,["children","srcList","infinite","current","defaultCurrent","onChange","visible","defaultVisible","onVisibleChange"]),v=ne(_e(!1,{value:I,defaultValue:T}),2),C=v[0],j=v[1],D=u.useMemo(function(){return r?new Map(r.map(function(m,f){return[f,{url:m,preview:!0}]})):null},[r]),ae=ht(),R=function(){return D?new Map(D):new Map},q=ne(u.useState(R()),2),J=q[0],$=q[1],p=ne(u.useState(new Map),2),O=p[0],S=p[1];u.useEffect(function(){ae||$(R())},[D]);var N=new Map(Array.from(J).filter(function(m){var f=ne(m,2),w=f[1].preview;return w}).map(function(m){var f=ne(m,2),w=f[0],h=f[1].url;return[w,h]})),z=ne(_e(0,{value:l,defaultValue:o}),2),Q=z[0],_=z[1];function Y(m,f,w){return D||$(function(h){return new Map(h).set(m,{url:f,preview:w})}),function(){D||$(function(k){var d=new Map(k),oe=d.delete(m);return oe?d:k})}}function ee(m,f){return S(function(w){return new Map(w).set(m,bt(f)?f:{})}),function(){S(function(h){var k=new Map(h),d=k.delete(m);return d?k:h})}}var M=u.useRef();u.useImperativeHandle(n,function(){return{reset:function(){M.current&&M.current.reset()}}});var Z=function(m,f){var w=Cr(f)?C:f;y&&y(m,w),j(m)},U=function(m){i&&i(m),_(m)},ve=function(m){var f=0,w=function(h){var k=P.Children.map(h,function(d){if(d&&d.props&&d.type){var oe=d.type.displayName;if(oe==="Image")return P.cloneElement(d,{_index:f++})}return d&&d.props&&d.props.children?P.cloneElement(d,{children:w(d.props.children)}):d});return!wr(h)&&P.Children.count(h)===1?k[0]:k};return w(m)};return L(Pr.Provider,{value:{previewGroup:!0,previewUrlMap:N,previewPropsMap:O,infinite:a,currentIndex:Q,setCurrentIndex:U,setPreviewUrlMap:$,registerPreviewUrl:Y,registerPreviewProps:ee,visible:C,handleVisibleChange:Z},children:[ve(t),c(Ft,{...Ne({ref:M,src:"",visible:C,onVisibleChange:Z},V)})]})}var Sr=u.forwardRef(Yt);Sr.displayName="ImagePreviewGroup";const Xt=Sr;export{Kt as I,Pr as P,$t as T,Xt as a,Ft as b,Lt as u};
