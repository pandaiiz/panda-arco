import{d as x,l as f,r as v,j as l,n as i,h as g,m as p,B as S}from"./index-2fe9f87b.js";import"./index-051f16ed.js";/* empty css              */import{S as u}from"./index-99f088e0.js";import{T as R}from"./index-18b86337.js";import"./index-a8984739.js";import{d as b}from"./service-735e5b75.js";import"./select-view-e3752154.js";import"./index-26e1abb8.js";const A=({detailData:c,setDetailData:a,setSelectedRow:y})=>{const{data:d}=x(()=>f("CATEGORY")),h=[{title:"品名",dataIndex:"categoryId",align:"center",render:(r,n,o)=>l(u,{placeholder:"请选择品名",allowClear:!0,value:n.categoryId,onChange:e=>{const t=i.cloneDeep(c),s=d.find(I=>I.id===e);t[o].categoryId=e,t[o].categoryTitle=s.title,t[o].categoryKey=s.key,a(t)},children:d==null?void 0:d.map(e=>l(u.Option,{value:e.id,children:e.title},e.id))})},{title:"款号",dataIndex:"styleCode",align:"center",render:(r,n,o)=>l(g,{value:n.styleCode,onChange:e=>{const t=i.cloneDeep(c);t[o].styleCode=e,a(t)}})},{title:"圈号",dataIndex:"circle",align:"center",render:(r,n,o)=>l(g,{value:n.circle,onChange:e=>{const t=i.cloneDeep(c);t[o].circle=e,a(t)}})},{title:"件重",dataIndex:"singleWeight",align:"center",render:(r,n,o)=>l(p,{value:n.singleWeight,onChange:e=>{const t=i.cloneDeep(c);t[o].singleWeight=e,a(t)}})},{title:"数量",dataIndex:"quantity",align:"center",render:(r,n,o)=>l(p,{value:n.quantity,onChange:e=>{const t=i.cloneDeep(c);t[o].quantity=e,a(t)}})},{title:"生产状态",dataIndex:"productionStatus",align:"center"},{title:"操作",align:"center",render:(r,n,o)=>l(S,{type:"text",onClick:()=>m(n.id,o),children:"删除"})}],m=async(r,n)=>{r&&await b(r),a(c.filter((o,e)=>e!==n))},[w,C]=v.useState([]);return l(R,{columns:h,data:c,pagination:!1,rowKey:"id",rowSelection:{type:"checkbox",selectedRowKeys:w,onChange:(r,n)=>{C(r),y(n)}}})};export{A as default};
