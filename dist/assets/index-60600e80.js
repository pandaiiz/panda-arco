import{r as i,d as S,e as C,a as b,j as r,S as T,B as z,f as w,T as x,g as k}from"./index-2fe9f87b.js";import{C as B}from"./index-ed740d17.js";import"./index-051f16ed.js";/* empty css              */import"./index-99f088e0.js";import{T as j}from"./index-18b86337.js";import"./index-a8984739.js";import O from"./form-be4ea24f.js";import{s as P}from"./index.module-c4e1ad75.js";import{getColumns as E}from"./constants-6b51e814.js";import I from"./index-19e056d4.js";import{b as v,c as F,e as N}from"./service-735e5b75.js";import"./select-view-e3752154.js";import"./index-26e1abb8.js";import"./index-5c024e38.js";import"./index-6e90a512.js";import"./index-a3018368.js";import"./index-36185895.js";import"./index-ed7d1e53.js";import"./index-6b64cf7e.js";import"./index-46012c63.js";import"./service-1a26ac09.js";import"./editableTable-b4514282.js";import"./pictureUpload-b2c3a753.js";import"./index.browser-7e542916.js";import"./rotate-c57d4b9d.js";import"./service-39d851c5.js";import"./findStyle-b646b788.js";import"./StyleFilter-967f201e.js";import"./index-1c0548d1.js";import"./scrollIntoView-eed899c1.js";import"./form-de005383.js";import"./common-26ce2b19.js";import"./service-82e768f3.js";import"./constants-filter-c5ec6bba.js";import"./image-d5b95c01.js";import"./edit-aacc2711.js";import"./index-e5c443e4.js";import"./mobileFilter-588aaca9.js";const{Title:R}=x;function Tt(){var c;const[u,s]=i.useState(!1),[l,n]=i.useState({}),[t,m]=i.useState({pageSize:10,current:1}),{data:o,loading:d,run:a}=S(v),g=async(e,p)=>{switch(p){case"delete":await N(e.id),m({...t,current:1}),a(t);break;case"edit":n(e),s(!0);break;case"copy":await F(e.id),a(t);break}},f=i.useMemo(()=>E(g),[]);C(async()=>{await a(t)},[JSON.stringify(t)]);function h({current:e,pageSize:p}){m({...t,current:e,pageSize:p})}function y(e){m({...e,pageSize:t.pageSize,current:1,unixTime:k().unix()})}return b(B,{children:[r(R,{heading:6,children:"订单列表"}),r(O,{onSearch:y}),r("div",{className:P["button-group"],children:r(T,{children:r(z,{type:"primary",icon:r(w,{}),onClick:()=>s(!0),children:"新增"})})}),r(j,{rowKey:"id",loading:d,onChange:h,pagination:{sizeCanChange:!0,showTotal:!0,pageSizeChangeResetCurrent:!0,current:t.current,pageSize:t.pageSize,total:(c=o==null?void 0:o.pagination)==null?void 0:c.total},columns:f,data:o==null?void 0:o.data}),u&&r(I,{data:l,onClose:()=>{s(!1),n({}),a(t)}})]})}export{Tt as default};
