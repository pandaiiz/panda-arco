import{r as i,d as S,e as C,a as b,j as r,S as T,B as z,f as w,T as x,g as k}from"./index-f50a7ad4.js";import{C as B}from"./index-aa0053a0.js";import"./index-f26404de.js";/* empty css              */import"./index-4a89bbe3.js";import{T as j}from"./index-13195c7d.js";import"./index-6dc1a68d.js";import O from"./form-3a65db58.js";import{s as P}from"./index.module-c4e1ad75.js";import{getColumns as E}from"./constants-a5c7a257.js";import I from"./index-c712bd21.js";import{b as v,c as F,e as N}from"./service-76aca5fa.js";import"./select-view-c7889b9d.js";import"./index-679f783d.js";import"./index-3fca1566.js";import"./index-51f0b48e.js";import"./index-9201017e.js";import"./index-63a71a35.js";import"./index-862429a3.js";import"./index-025950e7.js";import"./index-b7c7fbf7.js";import"./service-f4aace0d.js";import"./editableTable-ddd431d9.js";import"./pictureUpload-37172669.js";import"./index.browser-7e542916.js";import"./rotate-b978aa33.js";import"./service-f9aa5ca4.js";import"./findStyle-a0c3c2cc.js";import"./index-6558fc4e.js";import"./scrollIntoView-e2cb9fcb.js";import"./form-2546ef10.js";import"./common-874ed4d1.js";import"./service-ad020438.js";import"./constants-filter-5da7512a.js";import"./image-15044190.js";import"./edit-823cea77.js";import"./index-2fd8deeb.js";import"./mobileFilter-02948859.js";const{Title:R}=x;function bt(){var c;const[u,s]=i.useState(!1),[l,p]=i.useState({}),[t,m]=i.useState({pageSize:10,current:1}),{data:a,loading:d,run:o}=S(v),g=async(e,n)=>{switch(n){case"delete":await N(e.id),m({...t,current:1}),o(t);break;case"edit":p(e),s(!0);break;case"copy":await F(e.id),o(t);break}},f=i.useMemo(()=>E(g),[]);C(async()=>{await o(t)},[JSON.stringify(t)]);function h({current:e,pageSize:n}){m({...t,current:e,pageSize:n})}function y(e){m({...e,pageSize:t.pageSize,current:1,unixTime:k().unix()})}return b(B,{children:[r(R,{heading:6,children:"订单列表"}),r(O,{onSearch:y}),r("div",{className:P["button-group"],children:r(T,{children:r(z,{type:"primary",icon:r(w,{}),onClick:()=>s(!0),children:"新增"})})}),r(j,{rowKey:"id",loading:d,onChange:h,pagination:{sizeCanChange:!0,showTotal:!0,pageSizeChangeResetCurrent:!0,current:t.current,pageSize:t.pageSize,total:(c=a==null?void 0:a.pagination)==null?void 0:c.total},columns:f,data:a==null?void 0:a.data}),u&&r(I,{data:l,onClose:()=>{s(!1),p({}),o(t)}})]})}export{bt as default};
